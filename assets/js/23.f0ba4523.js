(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{364:function(t,e,a){"use strict";a.r(e);var s=a(32),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"cloudlinux-os"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-os","aria-hidden":"true"}},[t._v("#")]),t._v(" CloudLinux OS+")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray"}},[t._v("X-Ray")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#description"}},[t._v("Description")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#installation"}},[t._v("Installation")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#how-to-manage-x-ray"}},[t._v("How to manage "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")])])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#managing-tracing-task"}},[t._v("Managing tracing task")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#managing-continuous-tasks"}},[t._v("Managing continuous tasks")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#end-user-x-ray-plugin"}},[t._v("End-user X-Ray plugin")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray-automated-throttling-detection"}},[t._v("X-Ray automated throttling detection")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray-client"}},[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" client")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray-agent"}},[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" service")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#faq"}},[t._v("FAQ")])],1)])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#centralized-monitoring"}},[t._v("Centralized Monitoring")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#description-2"}},[t._v("Description")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#installation-2"}},[t._v("Installation")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#centralized-monitoring-mode-without-session-expired"}},[t._v("Centralized Monitoring: mode without session expired")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#centralized-monitoring-user-interface"}},[t._v("Centralized Monitoring user interface")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#alert-manager"}},[t._v("Alert Manager")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#faq-2"}},[t._v("FAQ")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#troubleshooting"}},[t._v("Troubleshooting")])],1)])],1)]),t._v(" "),a("h2",{attrs:{id:"x-ray"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-ray","aria-hidden":"true"}},[t._v("#")]),t._v(" X-Ray")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#description"}},[t._v("Description")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#installation"}},[t._v("Installation")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#how-to-manage-x-ray"}},[t._v("How to manage "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")])])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray-client"}},[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" client")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray-agent"}},[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" service")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#faq"}},[t._v("FAQ")])],1)]),t._v(" "),a("h3",{attrs:{id:"description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#description","aria-hidden":"true"}},[t._v("#")]),t._v(" Description")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning!")]),a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" is available for cPanel, Plesk, and DirectAdmin. Non-panel installations is not planned.")])]),a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" is a tool developed for website performance monitoring and performance issues detection.")]),t._v(" "),a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" can gather and visualize information about top N slowest system functions, external requests, software modules and database queries of the client’s website.")]),t._v(" "),a("h3",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Make sure you have CloudLinux OS+ subscription (only non-reseller accounts apply)")])]),t._v(" "),a("li",[a("p",[t._v("Make sure you have installed "),a("strong",[t._v("LVE Manager version 6.2 or later")]),t._v(". You can install or update it with the following commands:")]),t._v(" "),a("ul",[a("li",[t._v("installation")])]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# yum install lvemanager\n")])])])]),t._v(" "),a("ul",[a("li",[t._v("update")])]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# yum update lvemanager\n")])])])])]),t._v(" "),a("li",[a("p",[t._v("X-Ray will be activated on all your servers during 4 hours. You will see the X-Ray tab in the LVE Manager UI.")])]),t._v(" "),a("li",[a("p",[t._v("For instant activation, run the following command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# rhn_check\n")])])])]),t._v(" "),a("p",[t._v("If the "),a("code",[t._v("rhn_check")]),t._v(" command is not found, run the following command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# yum install rhn-check rhn-setup\n")])])])])]),t._v(" "),a("li",[a("p",[t._v("Then install the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("alt-php-xray")])]),t._v(" package")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Via user interface")]),t._v(" "),a("ul",[a("li",[t._v("Go to the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("X-Ray")])]),t._v(" tab.")]),t._v(" "),a("li",[t._v("Click "),a("span",{staticClass:"notranslate"},[a("em",[t._v("Install")])]),t._v(" to start installation.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayUI.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("Via SSH by running the following command:")])])]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# yum install lvemanager alt-php-xray\n")])])])])]),t._v(" "),a("li",[a("p",[t._v("After installation, use the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("Start tracing")])]),t._v(" button to create your first tracing task for a slow site.")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayStartTracing.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"how-to-manage-x-ray"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-manage-x-ray","aria-hidden":"true"}},[t._v("#")]),t._v(" How to manage X-Ray")]),t._v(" "),a("p",[t._v("X-Ray provides two options for monitoring domain requests speed: Tracing task and Continuous task.")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning")]),a("p",[t._v("To use Continuous task, update your LVE Manager and alt-PHP-X-Ray packages to versions lvemanager-6.2.9-1 and alt-php-xray-0.2-1 by running the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yum update lvemanager alt-php-xray\n")])])])]),a("ul",[a("li",[a("p",[a("strong",[t._v("Tracing task")]),t._v(" is a task created manually for a specific URL to collect server requests. The task will end either after a specified number of requests to the URL or after a specified time (maximum after two days). It is not possible here to automatically email a report but it is possible to export the report in PDF and send to a user.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Continuous task")]),t._v(" is a task that initiates a daily hourly tracing requests for a specified domain and email a monitoring report. Continuous task can't stop automatically, you need to stop it manually.")])])]),t._v(" "),a("p",[t._v("In fact, continuous task allows to automatically create a tracing task for each new day, with the ability to get a report for the past day.")]),t._v(" "),a("h4",{attrs:{id:"tracing-tasks-tab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tracing-tasks-tab","aria-hidden":"true"}},[t._v("#")]),t._v(" Tracing tasks tab")]),t._v(" "),a("p",[t._v("The "),a("em",[t._v("Tracing tasks")]),t._v(" tab contains a list of all tracing tasks created both manually and automatically via continuous tasks.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayTracingTaskCreated.png",alt:""}})]),t._v(" "),a("p",[t._v("The "),a("em",[t._v("Created")]),t._v(" column shows how a task was created – automatically (by continuous task) or manually.")]),t._v(" "),a("h4",{attrs:{id:"continuous-tracing-tab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#continuous-tracing-tab","aria-hidden":"true"}},[t._v("#")]),t._v(" Continuous tracing tab")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning")]),a("p",[t._v("To use Continuous task, update your LVE Manager and alt-PHP-X-Ray packages to versions lvemanager-6.2.9-1 and alt-php-xray-0.2-1 by running the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yum update lvemanager alt-php-xray\n")])])])]),a("p",[t._v("The "),a("em",[t._v("Continuous tracing")]),t._v(" tab contains a list of continuous tasks for which tracing tasks will be created automatically for a new day for a specific domain.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTasksList.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"managing-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#managing-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Managing tracing task")]),t._v(" "),a("h4",{attrs:{id:"creating-a-new-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-new-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Creating a new tracing task")]),t._v(" "),a("ol",[a("li",[t._v("Go to the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("X-Ray")])]),t._v(" tab")]),t._v(" "),a("li",[t._v("Click the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("Start tracing")])]),t._v(" button to create a new task")]),t._v(" "),a("li",[t._v("In the opened popup specify a website URL to trace")]),t._v(" "),a("li",[t._v("Click the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("Run")])]),t._v(" button")]),t._v(" "),a("li",[t._v("Tracing will run in the default mode. In the default mode "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" traces the first 20 requests for a specified URL")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayTracingTask.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("p",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("URL")])]),t._v(" should be a valid URL of the domain which exists on the current hosting server. The URL field supports wildcard matching. To learn more about wildcard matching, click "),a("em",[t._v("How to use special characters")]),t._v(".")])]),t._v(" "),a("li",[a("p",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Advanced settings")])]),t._v(" allow you to set an IP address and tracing options: by time or by number of queries.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayAdvanced.png",alt:""}})])])]),t._v(" "),a("p",[a("strong",[t._v("Advanced settings")])]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Client’s IP")])]),t._v(": it is an IPv4 address of a machine to trace. For example, if you have a production website that processes requests from different IP addresses and you do not want to add these requests to the tracing task. So, you can set a specific IP address and "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" will analyze requests only from this specific IP address.\nRecord for")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Time period")])]),t._v(": how much time "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" collect the requests (2 days max)")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Requests")])]),t._v(": the amount of requests that "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" will collect")])]),t._v(" "),a("p",[t._v("After creating, the task appears in the list of tracing tasks.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayTrcingTaskList.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"viewing-tracing-tasks-list"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#viewing-tracing-tasks-list","aria-hidden":"true"}},[t._v("#")]),t._v(" Viewing tracing tasks list")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayTrcingTaskList1.png",alt:""}})]),t._v(" "),a("p",[t._v("Tasks created "),a("em",[t._v("Manually")]),t._v(" are simply tracing tasks.")]),t._v(" "),a("h4",{attrs:{id:"tracing-status"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tracing-status","aria-hidden":"true"}},[t._v("#")]),t._v(" Tracing status")]),t._v(" "),a("p",[t._v("A tracing task can have the following statuses:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Running")])]),t._v(" – tracing is in progress")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Stopped")])]),t._v(" – tracing was stopped by administrator")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("On hold")])]),t._v(" – the same URL already exists in the lists. Task processing will not start automatically. Administrator should start it manually.")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Completed")])]),t._v(" – period of time is finished or number of requests is reached.")])]),t._v(" "),a("h4",{attrs:{id:"collected-requests-for-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#collected-requests-for-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Collected requests for tracing task")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning!")]),a("p",[t._v("Collected requests are available in the UI for two weeks.")])]),a("p",[t._v("Click "),a("img",{attrs:{src:"/images/XRayView.png",alt:""}}),t._v(" to open a list of collected requests.")]),t._v(" "),a("h4",{attrs:{id:"tracing-tasks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tracing-tasks","aria-hidden":"true"}},[t._v("#")]),t._v(" Tracing tasks")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayCollectedRequests.png",alt:""}})]),t._v(" "),a("p",[t._v("The slowest request is highlighted.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRaySlowestRequest.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Total")])]),t._v(" displays how many requests were collected according to tasks requirements.")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Pending")])]),t._v(" displays how many of collected requests are not visible in the table yet.")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Throttled")])]),t._v(" displays the number of requests during the execution of which the LVE limits were exceeded.")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Slow")])]),t._v(" displays the number of requests lasting more than one second.")])]),t._v(" "),a("p",[t._v("There are filters for the request types and the indicator of a filter used now.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/FilterIndicator.png",alt:""}})]),t._v(" "),a("p",[t._v("If slow requests were not detected during the tracing task, the following is displayed. Here, you can also view all requests.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/RecordedSession.png",alt:""}})]),t._v(" "),a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" collects the following data for each request:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Top issues")])]),t._v(" – the slowest items of a request")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Software modules/plugins")])]),t._v(" by execution time (only for WordPress plugins)")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Database queries")])]),t._v(" by execution time")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("External requests")])]),t._v(" by execution time")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Other system functions")])]),t._v(" by execution time")])]),t._v(" "),a("h4",{attrs:{id:"software-modules-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#software-modules-plugins","aria-hidden":"true"}},[t._v("#")]),t._v(" Software modules/plugins")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRaySoftwareModulesPlugins.png",alt:""}})]),t._v(" "),a("p",[t._v("The "),a("span",{staticClass:"notranslate"},[a("em",[t._v("Software modules/plugins")])]),t._v(" section displays the following data:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Software type")])]),t._v(" – a type a module/plugin. For now, "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" can analyze only WordPress software")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Software module")])]),t._v(" – a name of the WordPress plugin")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Duration")])]),t._v(" – plugin execution time")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Duration (%)")])]),t._v(" – plugin execution time as a percentage of the total duration of the request")])]),t._v(" "),a("h4",{attrs:{id:"database-queries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database-queries","aria-hidden":"true"}},[t._v("#")]),t._v(" Database queries")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayDatabaseQueries.png",alt:""}})]),t._v(" "),a("p",[t._v("The "),a("span",{staticClass:"notranslate"},[a("em",[t._v("Database queries")])]),t._v(" section displays the following data:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Query")])]),t._v(" – the executed SQL-query")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("File")])]),t._v(" – the file and the line of the executed query and backtrace")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Software module")])]),t._v(" – a WordPress plugin name from which the request was completed. If the request does not belong to any of the WordPress plugin, the name of the function that executed the given request is displayed")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Calls")])]),t._v(" – the number of identical SQL queries")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Duration")])]),t._v(" – execution time as a percentage of the total duration of a request and the function processing time (in brackets)")])]),t._v(" "),a("h4",{attrs:{id:"external-requests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#external-requests","aria-hidden":"true"}},[t._v("#")]),t._v(" External requests")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayExternalRequests.png",alt:""}})]),t._v(" "),a("p",[t._v("The "),a("span",{staticClass:"notranslate"},[a("em",[t._v("External requests")])]),t._v(" section displays the following data:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("URL")])]),t._v(" – the URL of the executed request")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("File")])]),t._v(" – the file and the line of the executed request and backtrace")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Duration")])]),t._v(" – execution time as a percentage of the total duration of a request and the function processing time (in brackets)")])]),t._v(" "),a("h4",{attrs:{id:"system-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-functions","aria-hidden":"true"}},[t._v("#")]),t._v(" System functions")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRaySystemFunctions.png",alt:""}})]),t._v(" "),a("p",[t._v("The "),a("span",{staticClass:"notranslate"},[a("em",[t._v("System functions")])]),t._v(" section displays the following data:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Function")])]),t._v(" – the executed function")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("File")])]),t._v(" – the file and the line of the executed request")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Duration")])]),t._v(" – execution time as a percentage of the total duration of a request and the function processing time (in brackets)")])]),t._v(" "),a("h4",{attrs:{id:"stopping-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stopping-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Stopping tracing task")]),t._v(" "),a("p",[t._v("Click "),a("img",{attrs:{src:"/images/XRayStop.png",alt:""}}),t._v(" to stop the tracing task.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayStopped.png",alt:""}})]),t._v(" "),a("p",[t._v("The tracing task status will be changed to "),a("span",{staticClass:"notranslate"},[a("strong",[t._v("Stopped")])]),t._v(". Data will not be collected anymore but you can see already collected information or continue tracing later by clicking "),a("img",{attrs:{src:"/images/XRayStart.png",alt:""}}),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"deleting-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deleting-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Deleting tracing task")]),t._v(" "),a("p",[t._v("Click "),a("img",{attrs:{src:"/images/XRayDelete.png",alt:""}}),t._v(" to delete the tracing task.")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning!")]),a("p",[t._v("When you have deleted a tracing task, all collected data will be unavailable.")])]),a("h3",{attrs:{id:"managing-continuous-tasks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#managing-continuous-tasks","aria-hidden":"true"}},[t._v("#")]),t._v(" Managing continuous tasks")]),t._v(" "),a("h4",{attrs:{id:"creating-a-new-continuous-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-new-continuous-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Creating a new continuous task")]),t._v(" "),a("ol",[a("li",[t._v("Click the "),a("em",[t._v("Create continuous tracing")]),t._v("  button")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayCreateContinuousTaskBtn.png",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Specify URL in the "),a("em",[t._v("Domain")]),t._v(" field and email in the "),a("em",[t._v("Email for reports")]),t._v(" field and click the "),a("em",[t._v("Create")]),t._v(" button.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayCreateContinuousTaskForm.png",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("You can see a new task in the "),a("em",[t._v("Continuous tracing")]),t._v(" tab in the X-Ray UI.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTracingTab.png",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[t._v("If you stop a continuous tracing task, a new task for the next 24 hours will not be created. The task for the current day will be finished at midnight and the report will be emailed.")])]),t._v(" "),a("li",[a("p",[t._v("If you delete a continuous tracing task, the task for the current day will be finished at midnight and the report will be emailed.")])])]),t._v(" "),a("h4",{attrs:{id:"viewing-continuous-tasks-list"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#viewing-continuous-tasks-list","aria-hidden":"true"}},[t._v("#")]),t._v(" Viewing continuous tasks list")]),t._v(" "),a("p",[t._v("You can find a list of continuous tracing tasks in the "),a("em",[t._v("Continuous tracing")]),t._v(" tab.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTracingTasksList.png",alt:""}})]),t._v(" "),a("p",[t._v("You can find automatically created tasks in the "),a("em",[t._v("Tracing tasks")]),t._v(" tab marked as "),a("em",[t._v("Automatically")]),t._v(" in the "),a("em",[t._v("Created")]),t._v(" column.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTracingTasksListCreated.png",alt:""}})]),t._v(" "),a("p",[t._v("The "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#tracing-status"}},[t._v("statuses for automatically created tasks")]),t._v(" are the same as for tracing task.")],1),t._v(" "),a("p",[t._v("To view detailed info about an automatically created task, click "),a("img",{attrs:{src:"/images/XRayView1.png",alt:""}}),t._v(". You will get requests grouped by hour.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTracingTasksListGrouped.png",alt:""}})]),t._v(" "),a("p",[t._v("Click to a group to open a list of the requests.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTracingTasksRequestsList.png",alt:""}})]),t._v(" "),a("p",[t._v("The following data is collected for each request:")]),t._v(" "),a("ul",[a("li",[t._v("Software modules/plugins by execution time (only for WordPress plugins)")]),t._v(" "),a("li",[t._v("Database queries by execution time")]),t._v(" "),a("li",[t._v("External requests by execution time")]),t._v(" "),a("li",[t._v("Other system functions by execution time")])]),t._v(" "),a("h4",{attrs:{id:"stopping-automatic-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stopping-automatic-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Stopping automatic tracing task")]),t._v(" "),a("p",[t._v("Stopping automatic tracing task (a part of continuous tracing task) affects only the automatic tracing task for the current day. A new task for the next day will be created at the end of the day.")]),t._v(" "),a("p",[t._v("To stop the continuous tracing task completely, see "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#creating-a-new-continuous-task"}},[t._v("Creating a new continuous task, paragraph 4")]),t._v(".")],1),t._v(" "),a("h4",{attrs:{id:"deleting-automatic-tracing-task"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deleting-automatic-tracing-task","aria-hidden":"true"}},[t._v("#")]),t._v(" Deleting automatic tracing task")]),t._v(" "),a("p",[t._v("Deleting automatic tracing task (a part of continuous tracing task) affects only the automatic tracing task for the current day. A new task for the next day will be created at the end of the day.")]),t._v(" "),a("p",[t._v("To delete the continuous tracing task completely, see "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#creating-a-new-continuous-task"}},[t._v("Creating a new continuous task, paragraph 5")]),t._v(".")],1),t._v(" "),a("h4",{attrs:{id:"continuous-task-daily-report"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#continuous-task-daily-report","aria-hidden":"true"}},[t._v("#")]),t._v(" Continuous task daily report")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Users get daily reports on their emails. An example of a report is shown below:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTaskDaylyReportExample.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("Click the link in the email to show the detailed report:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTaskDaylyReportCollectedRequests.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("You can view requests grouped by hour:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTaskDaylyReportByHourRequests.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("You can also view the detailed information about request:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayContinuousTaskDaylyReportRequestDetails.png",alt:""}})])])]),t._v(" "),a("h3",{attrs:{id:"end-user-x-ray-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#end-user-x-ray-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" End-user X-Ray plugin "),a("Badge",{attrs:{text:"Beta"}})],1),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning")]),a("p",[t._v("To use the end-user X-Ray plugin, update your LVE Manager and X-Ray packages to the "),a("code",[t._v("lvemanager-6.3.9-1")]),t._v(" and "),a("code",[t._v("alt-php-xray-0.3-1")]),t._v(" by running the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# yum update lvemanager alt-php-xray --enablerepo=cloudlinux-updates-testing\n")])])])]),a("h4",{attrs:{id:"how-to-enable-disable-the-end-user-x-ray-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-enable-disable-the-end-user-x-ray-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" How to enable/disable the end-user X-Ray plugin")]),t._v(" "),a("p",[t._v("You can hide or show the end-user X-Ray plugin icon by ticking or unticking the proper checkbox in the LVE Manager.")]),t._v(" "),a("p",[t._v("Go to "),a("em",[t._v("LVE Manager → Options Tab → User interface settings")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/HideXRayAppCheckbox.png",alt:""}})]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("The X-Ray plugin icon in the end-user interface is hidden when the checkbox is ticked.")])]),a("p",[a("img",{attrs:{src:"/images/XRayAppUIIcon.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"how-to-manage-the-end-user-x-ray-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-manage-the-end-user-x-ray-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" How to manage the end-user X-Ray plugin")]),t._v(" "),a("p",[t._v("The web interface of the end-user X-Ray plugin is almost the same as the X-Ray administrator interface.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayEndUserUI.png",alt:""}})]),t._v(" "),a("p",[t._v("But there are some differences and they are described further.")]),t._v(" "),a("ul",[a("li",[t._v("End-users can create tasks only for their domains from the drop-down list:\n"),a("img",{attrs:{src:"/images/XRayEndUserUIStart.png",alt:""}})]),t._v(" "),a("li",[t._v("To specify URL or wildcard, end-users should use the input field next to the domain:\n"),a("img",{attrs:{src:"/images/XRayEndUserUiSpecifyURL.png",alt:""}})])]),t._v(" "),a("p",[t._v("You can read about all other basic interface elements and managing tracing tasks in the "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#managing-tracing-task"}},[t._v("Managing tracing task section")]),t._v(".")],1),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("Tracing tasks created by an end-user will also be displayed in the administrator interface and administrators can manage the end-user's tasks the same way as they manage their own. At the same time, tasks created by the administrator or other end-users will not be displayed in the UI of the current user.")])]),a("h4",{attrs:{id:"end-user-x-ray-plugin-limitations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#end-user-x-ray-plugin-limitations","aria-hidden":"true"}},[t._v("#")]),t._v(" End-user X-Ray plugin limitations")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The end-user X-Ray plugin does not support creating continuous tasks.")])]),t._v(" "),a("li",[a("p",[t._v("The end-user has a limit of tracing tasks running at a time. Before starting the next task, the end-user should wait for the completion of the previous ones or forcefully stop the running ones. Otherwise, the user will get the next error:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayEndUserUIError.png",alt:""}})]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("The current limit is one tracing task per user.")])])]),t._v(" "),a("li",[a("p",[t._v("The administrator and the end-user can’t run the tracing task for the same Domain/URL at the same time. Once, the administrator started a specific tracing task, the end-user will not be able to duplicate it. And the same is true for the administrators – they will just see the running task for the specific domain and see the notification that they're trying to create a tracing task with a duplicated URL.")])]),t._v(" "),a("li",[a("p",[t._v("If continuous tracing is enabled for the domain, the end-user will not be able to create a new task for this domain because the same rule works - it will be a duplicate of the existing tracing tasks. The next warning will appear:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayEndUserUIWarning.png",alt:""}})]),t._v(" "),a("p",[t._v("To solve this, the existing running tasks for the same Domain/URL should be stopped or completed. You can find more details about this in the "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url"}},[t._v("FAQ")]),t._v(".")],1)])]),t._v(" "),a("h3",{attrs:{id:"x-ray-automated-throttling-detection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-ray-automated-throttling-detection","aria-hidden":"true"}},[t._v("#")]),t._v(" X-Ray automated throttling detection")]),t._v(" "),a("p",[t._v("The X-Ray automated throttling detection system checks if the account exceeds LVE limits by CPU during the HTTP request execution.")]),t._v(" "),a("p",[t._v("If CPU limiting was detected for a particular request, it is indicated in the X-Ray UI that the system itself has slowed down the request processing and this is apparently not a performance issue in the PHP code.")]),t._v(" "),a("p",[t._v("Requests with exceeded LVE limits are indicated in the administrator/user interface of the X-Ray plugin in the following way.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/RecordedSessions.png",alt:""}})]),t._v(" "),a("p",[t._v("Requests with exceeded LVE limits are also marked if the administrator views the request.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/LVEFaultsMarker.png",alt:""}})]),t._v(" "),a("p",[t._v("Requests with exceeded LVE limits are marked in the PDF report as well.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayMonitoringReport.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"x-ray-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-ray-client","aria-hidden":"true"}},[t._v("#")]),t._v(" X-Ray client")]),t._v(" "),a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" client is a PHP extension named "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.so")])]),t._v(". It analyzes the processing time of the entire request and its parts and then sends the data to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent.")]),t._v(" "),a("h4",{attrs:{id:"list-of-supported-php-versions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-of-supported-php-versions","aria-hidden":"true"}},[t._v("#")]),t._v(" List of supported PHP versions")]),t._v(" "),a("p",[t._v("The list of currently supported PHP versions:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("ALT PHP")]),t._v(":")]),t._v(" "),a("td",[a("strong",[t._v("EA PHP")]),t._v(":")]),t._v(" "),a("td",[a("strong",[t._v("Plesk PHP")])])]),t._v(" "),a("tr",[a("td",[a("ul",[a("li",[t._v("alt-php54")]),a("li",[t._v("alt-php55")]),a("li",[t._v("alt-php56")]),a("li",[t._v("alt-php70")]),a("li",[t._v("alt-php71")]),a("li",[t._v("alt-php72")]),a("li",[t._v("alt-php73")]),a("li",[t._v("alt-php74")])])]),t._v(" "),a("td",[a("ul",[a("li",[t._v("ea-php54")]),a("li",[t._v("ea-php55")]),a("li",[t._v("ea-php56")]),a("li",[t._v("ea-php70")]),a("li",[t._v("ea-php71")]),a("li",[t._v("ea-php72")]),a("li",[t._v("ea-php73")]),a("li",[t._v("ea-php74")])])]),t._v(" "),a("td",[a("ul",[a("li",[t._v("php54")]),a("li",[t._v("php55")]),a("li",[t._v("php56")]),a("li",[t._v("php70")]),a("li",[t._v("php71")]),a("li",[t._v("php72")]),a("li",[t._v("php73")]),a("li",[t._v("php74")])])])])])]),t._v(" "),a("h4",{attrs:{id:"functions-that-x-ray-client-can-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#functions-that-x-ray-client-can-hook","aria-hidden":"true"}},[t._v("#")]),t._v(" Functions that X-Ray client can hook")]),t._v(" "),a("h4",{attrs:{id:"database-queries-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database-queries-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Database queries")]),t._v(" "),a("ul",[a("li",[t._v("Functions from the "),a("a",{attrs:{href:"https://www.php.net/manual/ru/book.mysql.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL"),a("OutboundLink")],1),t._v(" extension:\n"),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysql_query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysql_db_query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysql_unbuffered_query")])])])])]),t._v(" "),a("li",[t._v("Functions from the "),a("a",{attrs:{href:"https://www.php.net/manual/ru/book.mysqli.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQLi"),a("OutboundLink")],1),t._v(" extension:\n"),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysqli_query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysqli::query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysqli_multi_query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysqli::multi_query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysqli_real_query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("mysqli::real_query")])])])])]),t._v(" "),a("li",[t._v("Functions from the "),a("a",{attrs:{href:"https://www.php.net/manual/ru/book.pdo.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("PDO"),a("OutboundLink")],1),t._v(" extension:\n"),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("PDO::exec")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("PDO::query")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("PDOStatement::execute")])])])])])]),t._v(" "),a("h4",{attrs:{id:"external-requests-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#external-requests-2","aria-hidden":"true"}},[t._v("#")]),t._v(" External requests")]),t._v(" "),a("ul",[a("li",[t._v("Function "),a("a",{attrs:{href:"https://www.php.net/manual/ru/function.exec",target:"_blank",rel:"noopener noreferrer"}},[t._v("curl_exec"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"system-php-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-php-functions","aria-hidden":"true"}},[t._v("#")]),t._v(" System PHP functions")]),t._v(" "),a("p",[t._v("It may be any PHP system function which can be related to a PHP engine or other PHP extension, for example "),a("span",{staticClass:"notranslate"},[a("code",[t._v("fopen()")])]),t._v(" or "),a("span",{staticClass:"notranslate"},[a("code",[t._v("json_encode()")])]),t._v(". A list of these functions can be found "),a("a",{attrs:{href:"https://www.php.net/manual/en/indexes.functions.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"configuration-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-options","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuration Options")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-enabled"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-enabled","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.enabled")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.enabled=On/Off")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("On")])]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": Enable or disable "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" extension from php.ini")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-database-queries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-database-queries","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.database_queries")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.database_queries=[number]")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": 20")]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": The number of the slowest SQL queries which will be sent to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-external-requests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-external-requests","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.external_requests")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.external_requests=[number]")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": 20")]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": The number of the slowest external requests (the curl_exec function) which will be sent to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-system-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-system-functions","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.system_functions")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.system_functions=[number]")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": 20")]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": The number of the slowest system functions which will be sent to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent.\nThe min value is 0 and the max value is 100. If the variable value is more, the default value will be used.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-backtrace-depth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-backtrace-depth","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.backtrace_depth")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.backtrace_depth=[number]")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": 10")]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": The backtrace depth to the main() function which will be sent to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent. The min value is 0 and the max value is 20. If the variable value is more, the default value will be used.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-processor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-processor","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.processor")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.processor=[processor_name]")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("xray")])]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(":  "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": Tells the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" client which processor to use. The new processors may be added in the future. The default processor is xray which means to send data to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-tasks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-tasks","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.tasks")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.tasks=host:uri:ip:id")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("no value")])]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(":  "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": The current tracing tasks for the given PHP request. This directive is added automatically by the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" manager when creating a task. It is not allowed to edit manually, as "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" may stop working.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-to-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-to-file","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.to_file")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.to_file=On/Off")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("Off")])]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(":  "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": Only for debug purposes. Writes to a file data which is sent to the processor.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-debug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-debug","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.debug")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.debug=On/Off")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("Off")])]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": Only for debug purposes. Enables debug output during request processing. In the On mode can slow down the domain.")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"notranslate"},[a("h4",{attrs:{id:"xray-debug-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xray-debug-file","aria-hidden":"true"}},[t._v("#")]),t._v(" xray.debug_file")])]),t._v(" "),a("p",[a("strong",[t._v("Syntax")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.debug_file=[path_to_file]")])])]),t._v(" "),a("p",[a("strong",[t._v("Default")]),t._v(": "),a("span",{staticClass:"notranslate"},[a("code",[t._v("/tmp/xray-debug.log")])])]),t._v(" "),a("p",[a("strong",[t._v("Changeable")]),t._v(": "),a("span",{staticClass:"notranslate"},[t._v("PHP_INI_SYSTEM")])]),t._v(" "),a("p",[a("strong",[t._v("Description")]),t._v(": Only for debug purposes. Specifies a file for logging debug information.")]),t._v(" "),a("h3",{attrs:{id:"x-ray-agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-ray-agent","aria-hidden":"true"}},[t._v("#")]),t._v(" X-Ray agent")]),t._v(" "),a("p",[t._v("This is a service that receives data from the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" client and sends it to the remote storage.")]),t._v(" "),a("h4",{attrs:{id:"managing-x-ray-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#managing-x-ray-service","aria-hidden":"true"}},[t._v("#")]),t._v(" Managing X-Ray service")]),t._v(" "),a("p",[t._v("The "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent is managed by the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("service")])]),t._v(" utility.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("To start the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent, run the following command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# service xray-agent start\n")])])])])]),t._v(" "),a("li",[a("p",[t._v("To stop the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent, run the following command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# service xray-agent stop\n")])])])])]),t._v(" "),a("li",[a("p",[t._v("To restart the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent, run the following command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# service xray-agent restart\n")])])])])])]),t._v(" "),a("h3",{attrs:{id:"faq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq","aria-hidden":"true"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),a("h4",{attrs:{id:"does-x-ray-affect-website-performance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#does-x-ray-affect-website-performance","aria-hidden":"true"}},[t._v("#")]),t._v(" Does X-Ray affect website performance?")]),t._v(" "),a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" affects website performance. Our tests show 5-10 % overhead from a website loading time with "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" tracing enabled.\n"),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" allows you to find website performance issues and should not be enabled permanently. If your website is very slow, you can enable "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" to find the cause and then disable it.")]),t._v(" "),a("h4",{attrs:{id:"what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url","aria-hidden":"true"}},[t._v("#")]),t._v(' What should I do if I see the warning "Task is duplicated by URL"?')]),t._v(" "),a("p",[t._v("This warning means that you already have a task to trace this URL in the list of your tracing tasks. If you see this warning, a new task can be created only with the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("On hold")])]),t._v(" status and you will be able to run it only when the previous task with the same URL will be completed.")]),t._v(" "),a("p",[t._v("Note that the URL field supports wildcard matching and you can have a case when "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" is tracing the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("URL=domain.com/*")])]),t._v(" and you are trying to create a new task with "),a("span",{staticClass:"notranslate"},[a("code",[t._v("URL=domain.com/xray.php")])]),t._v(". In this case, you will see that warning because the "),a("code",[t._v("*")]),t._v(" URLs array includes "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.php")])]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do","aria-hidden":"true"}},[t._v("#")]),t._v(" I started a tracing task and made requests to URL but did not see any results in the UI. What should I do?")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Check that "),a("span",{staticClass:"notranslate"},[a("strong",[t._v("xray")])]),t._v(" extension is enabled for the domain. To do so, go to the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("phpinfo()")])]),t._v(" page and make a request. In the phpinfo output try to find the following section:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayPHPInfo.png",alt:""}})])])]),t._v(" "),a("p",[t._v("If you cannot see that section, try to restart PHP processes for that user (the simplest way is to restart Apache) and check that you can see the "),a("span",{staticClass:"notranslate"},[a("strong",[t._v("xray")])]),t._v(" extension.")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("If you can see the "),a("span",{staticClass:"notranslate"},[a("strong",[t._v("xray")])]),t._v(" extension in the phpinfo, check that "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" agent service is running with the service xray-agent status command. If it is not running, start it with the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("service xray-agent start")])]),t._v(" command.")])]),t._v(" "),a("li",[a("p",[a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" may not send data if a site uses a caching plugin, as the caching plugin is outputting HTML, thus there are no PHP scripts to examine. We encountered such issues with sites that use "),a("span",{staticClass:"notranslate"},[t._v("LSCache")]),t._v(" and "),a("span",{staticClass:"notranslate"},[t._v("WP Super Cache")]),t._v(" plugins. Check that your site does not use caching plugins. If so, disable it while tracing a site to get information from "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("If you set a client’s IP when creating the tracing task, check that your requests come to the server with this IP via phpinfo (since there may be NAT between your local machine and the server).")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayPHPInfoRemoteAddr.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("If, after checking the previous items, the issue persists, "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("contact our support team"),a("OutboundLink")],1),t._v(".")])])]),t._v(" "),a("h4",{attrs:{id:"what-to-do-if-x-ray-is-not-found-in-the-phpinfo-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-to-do-if-x-ray-is-not-found-in-the-phpinfo-page","aria-hidden":"true"}},[t._v("#")]),t._v(" What to do if X-Ray is not found in the phpinfo() page?")]),t._v(" "),a("p",[t._v("If you managed to create a tracing task, this means that the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.ini")])]),t._v(" file was created in a system. Therefore, there may be two reasons why it did not appear in the phpinfo page of the domain.")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("PHP process wasn't reloaded after adding the xray.ini. To solve this, you should restart the Apache or fpm service for the domain on which the tracing was started. At the moment, this is done automatically by the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" manager after creating the task.")])]),t._v(" "),a("li",[a("p",[t._v("Your domain uses a PHP version different from the one which was detected by the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" manager. To solve this, check the scan dir for additional ini files for your domain.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/XRayScanDir.png",alt:""}})]),t._v(" "),a("p",[t._v("Then check the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("ini_location")])]),t._v(" that was passed to the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" manager by running the following command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# cat /usr/share/alt-php-xray/manager.log | grep ini_location\n")])])])]),t._v(" "),a("p",[t._v("Find your tracing task in the output and check that the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("xray.ini")])]),t._v(" exists in this directory, also check that the "),a("code",[t._v("ini")]),t._v(" path is the same in the phpinfo page output and in the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("ini_location")])]),t._v(" directive for your tracing task. If they are the same, you should reload your PHP. If they are different that means that the "),a("span",{staticClass:"notranslate"},[t._v("X-Ray")]),t._v(" manager could not correctly determine the PHP version your domain uses. In this case, contact our support team at "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/requests/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloudlinux.zendesk.com/hc/requests/new"),a("OutboundLink")],1),t._v(".")])])]),t._v(" "),a("h4",{attrs:{id:"i-use-litespeed-x-ray-is-enabled-and-it-is-shown-in-the-phpinfo-page-but-does-not-collect-data-when-sending-requests-to-a-site-what-to-do"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-use-litespeed-x-ray-is-enabled-and-it-is-shown-in-the-phpinfo-page-but-does-not-collect-data-when-sending-requests-to-a-site-what-to-do","aria-hidden":"true"}},[t._v("#")]),t._v(" I use LiteSpeed, X-Ray is enabled and it is shown in the phpinfo() page but does not collect data when sending requests to a site. What to do?")]),t._v(" "),a("p",[t._v("Check for the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("CacheLookup on")])]),t._v(" option in the "),a("code",[t._v("htaccess")]),t._v(" file for your domain.\nIf the option is there, LiteSpeed processes requests bypassing the PHP X-Ray extension.\nIn this case, to get tracing information, you should remove the "),a("span",{staticClass:"notranslate"},[a("code",[t._v("CacheLookup on")])]),t._v(" option.")]),t._v(" "),a("h4",{attrs:{id:"what-is-the-proper-format-for-the-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-proper-format-for-the-url","aria-hidden":"true"}},[t._v("#")]),t._v(" What is the proper format for the URL?")]),t._v(" "),a("p",[t._v("All of the examples below are correct:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("http://domain.com")])]),t._v(" "),a("li",[a("code",[t._v("http://domain.com/")])]),t._v(" "),a("li",[a("code",[t._v("https://domain.com")])]),t._v(" "),a("li",[a("code",[t._v("https://domain.com/")])])]),t._v(" "),a("p",[t._v("You can use any of them with a prefix "),a("code",[t._v("www.")]),t._v(" and it is also correct.")]),t._v(" "),a("h4",{attrs:{id:"what-packages-are-required-for-x-ray"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-packages-are-required-for-x-ray","aria-hidden":"true"}},[t._v("#")]),t._v(" What packages are required for X-Ray?")]),t._v(" "),a("p",[t._v("Required packages:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("lvemanager")]),t._v(" >= 6.2.10-1")]),t._v(" "),a("li",[a("code",[t._v("alt-php-xray")]),t._v(" >= 0.2-1")])]),t._v(" "),a("h2",{attrs:{id:"centralized-monitoring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centralized-monitoring","aria-hidden":"true"}},[t._v("#")]),t._v(" Centralized Monitoring")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#description-2"}},[t._v("Description")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#installation-2"}},[t._v("Installation")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#centralized-monitoring-mode-without-session-expired"}},[t._v("Centralized Monitoring: mode without session expired")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#centralized-monitoring-user-interface"}},[t._v("Centralized Monitoring user interface")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#alert-manager"}},[t._v("Alert Manager")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#faq-2"}},[t._v("FAQ")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#troubleshooting"}},[t._v("Troubleshooting")])],1)]),t._v(" "),a("h3",{attrs:{id:"description-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#description-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Description")]),t._v(" "),a("p",[a("span",{staticClass:"notranslate"},[t._v("Centralized Monitoring")]),t._v(" is a tool that allows hosting administrators to monitor load for all their servers and users.")]),t._v(" "),a("p",[a("span",{staticClass:"notranslate"},[t._v("Centralized Monitoring")]),t._v(" allows you to:")]),t._v(" "),a("ul",[a("li",[t._v("View system metrics for all clients’ end servers")]),t._v(" "),a("li",[t._v("View the LVE statistics per user for all clients’ end servers")])]),t._v(" "),a("h3",{attrs:{id:"installation-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("Make sure that "),a("code",[t._v("cm.cloudlinux.com")]),t._v(" is available on your end server.")])]),a("ol",[a("li",[t._v("Make sure you have a CloudLinux OS+ subscription.")]),t._v(" "),a("li",[t._v("Make sure you have installed the "),a("strong",[t._v("lve-utils")]),t._v(" package version 4.2.21-2 or later. You can install or update it with the following commands:\n"),a("ul",[a("li",[t._v("installation")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yum install lve-utils\n")])])]),a("ul",[a("li",[t._v("update")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yum update lve-utils\n")])])])]),t._v(" "),a("li",[t._v("Log in to the "),a("a",{attrs:{href:"https://cm.cloudlinux.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cm.cloudlinux.com/"),a("OutboundLink")],1),t._v(" using CLN credentials (if you are already logged in via CLN, authorization via CM is not necessary, it uses SSO).")]),t._v(" "),a("li",[t._v("Activate statistics collection on all your servers via the Centralized Monitoring UI ("),a("a",{attrs:{href:"https://cm.cloudlinux.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cm.cloudlinux.com"),a("OutboundLink")],1),t._v(") or via the CLN UI "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring"),a("OutboundLink")],1),t._v(".\n"),a("img",{attrs:{src:"/images/CMInstallationProd.png",alt:""}})]),t._v(" "),a("li",[t._v("Within 5 hours from the activation, statistics collection and sending to the central server will be set up automatically: all required packages and components will be installed. For new, just registered servers, statistics collection and sending will be set up automatically within 5 hours.")]),t._v(" "),a("li",[t._v("Make sure you have activated statistics collection (see paragraph 4) otherwise you will not be able to set up your servers. For instant set up of a registered server after statistics collection was enabled, run the following commands for all servers:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# rhn_check\t\n# /usr/share/cloudlinux/cl_plus/manage_clplus enable\n")])])]),a("strong",[t._v("Note")]),t._v(": If the "),a("code",[t._v("rhn_check")]),t._v(" command is not found, run the following command:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# yum install/update rhn-check rhn-setup\n")])])])]),t._v(" "),a("li",[t._v("After 5 hours (or after the manual setup), check that statistics for all registered servers is collected via "),a("a",{attrs:{href:"https://cm.cloudlinux.com/#/servers",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cm.cloudlinux.com/#/servers"),a("OutboundLink")],1),t._v(". And check that user statistics on the servers is collected via "),a("a",{attrs:{href:"https://cm.cloudlinux.com/#/users",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cm.cloudlinux.com/#/users"),a("OutboundLink")],1),t._v("."),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("User statistics will be available only for users that were loaded starting from connecting the server to the Centralized Monitoring.")])])])]),t._v(" "),a("h3",{attrs:{id:"centralized-monitoring-mode-without-session-expired"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centralized-monitoring-mode-without-session-expired","aria-hidden":"true"}},[t._v("#")]),t._v(" Centralized Monitoring: mode without session expired")]),t._v(" "),a("p",[t._v("Users can monitor server’s or user’s load for a long time using the mode without session expired.")]),t._v(" "),a("p",[t._v("To turn on the mode without session expired, follow the next steps:")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Log in to the "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/",target:"_blank",rel:"noopener noreferrer"}},[t._v("cln.cloudlinux.com"),a("OutboundLink")],1),t._v(" via your account")])]),t._v(" "),a("li",[a("p",[t._v("Open the "),a("a",{attrs:{href:"https://cm.cloudlinux.com/#/servers",target:"_blank",rel:"noopener noreferrer"}},[t._v("cm.cloudlinux.com"),a("OutboundLink")],1),t._v(" in a new browser tab/window (please, use the same browser as in step 1)")])]),t._v(" "),a("li",[a("p",[t._v("Use the toggle to turn on/off 10 min auto logout")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/AutoLogout.png",alt:""}})])])]),t._v(" "),a("p",[t._v("Your session in the "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/",target:"_blank",rel:"noopener noreferrer"}},[t._v("cln.cloudlinux.com"),a("OutboundLink")],1),t._v(" will expire in 10 min. But your session in the "),a("a",{attrs:{href:"https://cm.cloudlinux.com/#/servers",target:"_blank",rel:"noopener noreferrer"}},[t._v("cm.cloudlinux.com"),a("OutboundLink")],1),t._v(" will not expire while your browser tab remains open.")]),t._v(" "),a("h3",{attrs:{id:"centralized-monitoring-user-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centralized-monitoring-user-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" Centralized Monitoring user interface")]),t._v(" "),a("p",[t._v("You can access "),a("span",{staticClass:"notranslate"},[t._v("Centralized Monitoring")]),t._v(" in your "),a("a",{attrs:{href:"https://cln.cloudlinux.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CLN account"),a("OutboundLink")],1),t._v(".\nClick "),a("span",{staticClass:"notranslate"},[t._v("C-Monitoring")]),t._v(" in the left menu.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMCLNAccount.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"servers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#servers","aria-hidden":"true"}},[t._v("#")]),t._v(" Servers")]),t._v(" "),a("p",[t._v("This page contains the list of all clients’ end servers. The server appears in the list after finishing "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#installation-2"}},[t._v("Installation")]),t._v(". By default, there is a descending sort by CPU usage.")],1),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMAllServers.png",alt:""}})]),t._v(" "),a("p",[t._v("The following values are available for each server:")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Load Avg 15m")])]),t._v(" – average system load for the last 15 min")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("CPU Usage")])]),t._v(" – CPU usage for the last 15 min (the number of cores can be found in the hint)")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Memory Usage")])]),t._v(" – free available memory, the second value is the total memory for the last 15 min")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("IO read/write")])]),t._v(" – disk read bytes/disk written bytes for the last 15 min")])]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("The values are calculated using a 15 min time period but the metric state is updated automatically every minute by default or you can choose from one of the predefined periods.")])]),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("Idle state")])]),t._v(" – there were no statistics for the server for the last minute.")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("strong",[t._v("N/A state")])]),t._v(" – there were no statistics for the server for the last 30 days. This can happen if a new server was added but statistics sending was not configured.")])]),t._v(" "),a("p",[t._v("There is no pagination on the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("All servers")])]),t._v(" page and all columns can be sorted by absolute value.\nUse the search tool to operate with the data.")]),t._v(" "),a("h4",{attrs:{id:"servers-details"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#servers-details","aria-hidden":"true"}},[t._v("#")]),t._v(" Servers details")]),t._v(" "),a("p",[t._v("To get the detailed statistics for the server via charts, click a desired server line in the table.\nAll charts are auto-refreshed and there is an ability to select the period for metrics data to be updated for the chart.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMUPdates.png",alt:""}})]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("We store the metrics data for one month only.")])]),a("h4",{attrs:{id:"charts-for-server-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#charts-for-server-metrics","aria-hidden":"true"}},[t._v("#")]),t._v(" Charts for server metrics")]),t._v(" "),a("h4",{attrs:{id:"visualization-of-the-most-popular-server-states"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#visualization-of-the-most-popular-server-states","aria-hidden":"true"}},[t._v("#")]),t._v(" Visualization of the most popular server states")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMMostPopularStates.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"disk-space-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disk-space-usage","aria-hidden":"true"}},[t._v("#")]),t._v(" Disk space usage")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMDiskSpaceUsage.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"open-file-descriptor-context-switches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#open-file-descriptor-context-switches","aria-hidden":"true"}},[t._v("#")]),t._v(" Open file descriptor/Context switches")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMOpenFileDescriptorContextSwitches.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"system-load-1m-5m-15m"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-load-1m-5m-15m","aria-hidden":"true"}},[t._v("#")]),t._v(" System load 1m , 5m, 15m")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMSystemLoad.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"cpu-usage-total-system-user-iowait-steal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpu-usage-total-system-user-iowait-steal","aria-hidden":"true"}},[t._v("#")]),t._v(" CPU usage (total, system, user, iowait, steal)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMSCPUUsag.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"network-traffic-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-traffic-usage","aria-hidden":"true"}},[t._v("#")]),t._v(" Network traffic usage")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMNetworkTrafficUsage.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"disk-space-usage-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disk-space-usage-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Disk space usage")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMDiskSpaceUsageBasics.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"memory-usage-total-used-available"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#memory-usage-total-used-available","aria-hidden":"true"}},[t._v("#")]),t._v(" Memory usage (total, used, available)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMMemoryUsage.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"time-spent-doing-i-os"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#time-spent-doing-i-os","aria-hidden":"true"}},[t._v("#")]),t._v(" Time spent doing I/Os")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMTimeSpentDoingIO.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"disk-iops-completed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disk-iops-completed","aria-hidden":"true"}},[t._v("#")]),t._v(" Disk IOps Completed")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMDiskIOpsCompleted.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"disk-read-write-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disk-read-write-data","aria-hidden":"true"}},[t._v("#")]),t._v(" Disk read/write data")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMDiskReadWriteData.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"disk-read-write-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disk-read-write-time","aria-hidden":"true"}},[t._v("#")]),t._v(" Disk read/write time")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMDiskReadWriteTime.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"apache-connections-number-number-of-requests-per-minute-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apache-connections-number-number-of-requests-per-minute-max-connections","aria-hidden":"true"}},[t._v("#")]),t._v(" Apache connections (number)/Number of requests per minute/Max connections")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("In the current version, we collect these metrics for the cPanel end servers only. We are planning to add other panels support soon.")])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("In the current version, we collect these metrics only for Apache (NOT for LiteSpeed, Nginx, etc.). The charts will be empty for LiteSpeed, Nginx, etc..")])]),a("h4",{attrs:{id:"mysql-queries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-queries","aria-hidden":"true"}},[t._v("#")]),t._v(" MySQL queries")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMMySQLQueries.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"the-most-loaded-server-users-for-the-last-minute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-most-loaded-server-users-for-the-last-minute","aria-hidden":"true"}},[t._v("#")]),t._v(" The most loaded server users for the last minute")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMMostLoadedUsers.png",alt:""}})]),t._v(" "),a("p",[t._v("We calculate the user’s load by LVE statistics that we collect on the end server.\nThe idle state for the user means that the LVE statistics were not collected for the last minute for some reason.")]),t._v(" "),a("p",[t._v("In each cell there are current usage/limit values for the basic LVE limits:")]),t._v(" "),a("ul",[a("li",[t._v("CPU Usage")]),t._v(" "),a("li",[t._v("Entry Processes")]),t._v(" "),a("li",[t._v("Physical Memory Usage")]),t._v(" "),a("li",[t._v("IOPS")]),t._v(" "),a("li",[t._v("IO Usage")]),t._v(" "),a("li",[t._v("Number of Processes")]),t._v(" "),a("li",[t._v("MySQL CPU")]),t._v(" "),a("li",[t._v("MySQL IO")])]),t._v(" "),a("p",[t._v("In the hint, there is a number of faults for each limit. The values in the columns are underlined (it is red if load-to-limit ratio >=90%  and it is yellow if load-to-limit ratio >= 50%). For the current implementation, the only sort by the load-to-limit ratio is available.\nBy default, there is a descending sort by the CPU usage column.")]),t._v(" "),a("p",[t._v("When sorting by a column, the lines with the load-to-limit ratio >=90% for this column will have the red background color, and lines with the load-to-limit ratio >=50% for this column will have the yellow background color.")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("The users with unlimited resources (∞) will be at the bottom of the table.")])]),a("h4",{attrs:{id:"users"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#users","aria-hidden":"true"}},[t._v("#")]),t._v(" Users")]),t._v(" "),a("p",[t._v("This page contains all users for the all server of the client and their LVE statistics for the last minute. You can select the number of users on this page and search by user’s data.")]),t._v(" "),a("p",[t._v("The description of this page is the same as "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#the-most-loaded-server-users-for-the-last-minute"}},[a("em",[t._v("The most loaded server users for the last minute")])]),t._v(" of the top 5 loaded users.")],1),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMUsers.png",alt:""}})]),t._v(" "),a("p",[t._v("User’s metrics data can be sorted by the load-to-limit ratio and by the absolute value.")]),t._v(" "),a("p",[t._v("The absolute value is used to analyse the load produced by unlimited users.")]),t._v(" "),a("p",[t._v("The value of the load-to-limit ratio is convenient to use in the analysis of how many resources the users consume and whether they need to change the limits.")]),t._v(" "),a("p",[t._v("The values like this "),a("img",{attrs:{src:"/images/CMvalue.png",alt:""}}),t._v(" means that the resource is unlimited and 500.2 MB is the current usage of it.")]),t._v(" "),a("p",[t._v("Metrics data of "),a("em",[t._v("Idle users")]),t._v(" is not used in the sorting, so such users always will be at the end of the list.  The sorting can be done for only one metric.")]),t._v(" "),a("h4",{attrs:{id:"charts-for-users-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#charts-for-users-metrics","aria-hidden":"true"}},[t._v("#")]),t._v(" Charts for Users metrics")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),a("p",[t._v("We store the metrics data for one month only.")])]),a("p",[t._v("On the user details page, the admin can find the charts for all LVE limits.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMUsersCharts.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"alert-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alert-manager","aria-hidden":"true"}},[t._v("#")]),t._v(" Alert Manager")]),t._v(" "),a("p",[t._v("Alert Manager allows you to create a server or user alert for selected metrics and email the triggered events.")]),t._v(" "),a("h4",{attrs:{id:"alert-manager-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alert-manager-page","aria-hidden":"true"}},[t._v("#")]),t._v(" Alert Manager page")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMAlertManager1.png",alt:""}})]),t._v(" "),a("p",[t._v("The Alert Manager page contains a table with the following:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Alert name")]),t._v(" - a unique alert name")]),t._v(" "),a("li",[a("strong",[t._v("Tracking metric")]),t._v(" - a name of a server/user metric which will trigger the alert notification")]),t._v(" "),a("li",[a("strong",[t._v("# of servers")]),t._v(" - number of servers on which the metric will be tracked\n"),a("ul",[a("li",[t._v("click "),a("img",{attrs:{src:"/images/CMAlertManager2.png",alt:""}}),t._v(" to view a list of servers host names")])])]),t._v(" "),a("li",[a("strong",[t._v("# of users")]),t._v(" - number of users for which the metric will be tracked\n"),a("ul",[a("li",[t._v("click "),a("img",{attrs:{src:"/images/CMAlertManager2.png",alt:""}}),t._v(" to view a list of users names")])])]),t._v(" "),a("li",[a("strong",[t._v("Value")]),t._v(" - a condition for the alert rule which will be applied to the tracking metrics")]),t._v(" "),a("li",[a("strong",[t._v("Email")]),t._v(" - email to send the triggered events notifications")]),t._v(" "),a("li",[a("strong",[t._v("Type")]),t._v(" - a type of the alert rule")]),t._v(" "),a("li",[a("strong",[t._v("# of triggered events")]),t._v(" - the number of events from the time, when alert rule was created\n"),a("ul",[a("li",[a("img",{attrs:{src:"/images/CMAlertManager3.png",alt:""}}),t._v(" the event is still firing")])])]),t._v(" "),a("li",[a("strong",[t._v("Time  of the last trigger")]),t._v(" - the time of last triggered event, it is the time in your browser time zone")]),t._v(" "),a("li",[a("strong",[t._v("Actions")]),t._v(" - click "),a("img",{attrs:{src:"/images/CMAlertManager4.png",alt:""}}),t._v(" to edit and "),a("img",{attrs:{src:"/images/CMAlertManager5.png",alt:""}}),t._v(" to delete the alert rule")])]),t._v(" "),a("p",[a("strong",[t._v("Color Codes")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Red")]),t._v(' color means that the event with the condition "more than" is still firing.')]),t._v(" "),a("li",[a("strong",[t._v("Green")]),t._v(' color means that the event with the condition "less than" is still firing.')])]),t._v(" "),a("h4",{attrs:{id:"creating-an-alert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-an-alert","aria-hidden":"true"}},[t._v("#")]),t._v(" Creating an alert")]),t._v(" "),a("p",[t._v("To create a new alert, click the "),a("em",[t._v("Create alert")]),t._v(" button.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMAlertManager7.png",alt:""}})]),t._v(" "),a("p",[t._v("Next, fill out the opened popup.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMAlertManager6.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Name of alert")]),t._v(" - a unique alert name")]),t._v(" "),a("li",[a("strong",[t._v("Alert type")]),t._v(" - an admin can create a "),a("strong",[t._v("user")]),t._v(" or a "),a("strong",[t._v("server")]),t._v(" alert. "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#difference-between-the-server-alert-and-the-user-alert"}},[t._v("What is the difference between them?")])],1),t._v(" "),a("li",[a("strong",[t._v("Select user/server")]),t._v(" - admin will see such dropdown depending on a "),a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#cases-of-alert-creating"}},[t._v("case of alert creating")])],1),t._v(" "),a("li",[a("strong",[t._v("Notify me")]),t._v(" - the condition of the alert trigger")]),t._v(" "),a("li",[a("strong",[t._v("Duration")]),t._v(" - how much time the condition should be actual to trigger the notification")]),t._v(" "),a("li",[a("strong",[t._v("Notify me on email")]),t._v(" - the email to send notifications")])]),t._v(" "),a("h4",{attrs:{id:"editing-an-alert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editing-an-alert","aria-hidden":"true"}},[t._v("#")]),t._v(" Editing an alert")]),t._v(" "),a("p",[t._v("An admin can edit any field in the Alert except the Alert type.")]),t._v(" "),a("h4",{attrs:{id:"difference-between-the-server-alert-and-the-user-alert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#difference-between-the-server-alert-and-the-user-alert","aria-hidden":"true"}},[t._v("#")]),t._v(" Difference between the server alert and the user alert")]),t._v(" "),a("p",[t._v("The "),a("strong",[t._v("server alert")]),t._v(" is used to track the state of the  whole server, it does not track user state on the server.\nThe "),a("strong",[t._v("server alert")]),t._v(" tracks the next list of metrics:")]),t._v(" "),a("ol",[a("li",[t._v("Context switches")]),t._v(" "),a("li",[t._v("System load (1m)")]),t._v(" "),a("li",[t._v("System load (5m)")]),t._v(" "),a("li",[t._v("System load (15m)")]),t._v(" "),a("li",[t._v("CPU Basic (total)")]),t._v(" "),a("li",[t._v("CPU Basic (system)")]),t._v(" "),a("li",[t._v("CPU Basic (user)")]),t._v(" "),a("li",[t._v("CPU Basic (iowait)")]),t._v(" "),a("li",[t._v("CPU Basic (steal)")]),t._v(" "),a("li",[t._v("Network Traffic Basic ("),a("code",[t._v("eht0_receive")]),t._v(")")]),t._v(" "),a("li",[t._v("Network Traffic Basic ("),a("code",[t._v("eht0_transmit")]),t._v(")")]),t._v(" "),a("li",[t._v("Network Traffic Basic ("),a("code",[t._v("ehtN_receive")]),t._v(")")]),t._v(" "),a("li",[t._v("Network Traffic Basic ("),a("code",[t._v("ehtN_transmit")]),t._v(")")]),t._v(" "),a("li",[t._v("Disk Space Used Basic ("),a("code",[t._v("mountpoint: <0>")]),t._v(")")]),t._v(" "),a("li",[t._v("Disk Space Used Basic ("),a("code",[t._v("mountpoint: <1>")]),t._v(")")]),t._v(" "),a("li",[t._v("Disk Space Used Basic ("),a("code",[t._v("mountpoint: <N>")]),t._v(")")]),t._v(" "),a("li",[t._v("Memory Basic (available)")]),t._v(" "),a("li",[t._v("Memory Basic (used)")]),t._v(" "),a("li",[t._v("Time spent Doing I/Os")]),t._v(" "),a("li",[t._v("Disk IOps Writes Completed")]),t._v(" "),a("li",[t._v("Disk IOps Reads Completed")]),t._v(" "),a("li",[t._v("Disk Read Data")]),t._v(" "),a("li",[t._v("Disk Write Data")]),t._v(" "),a("li",[t._v("Disk Read Time")]),t._v(" "),a("li",[t._v("Disk Write Time")]),t._v(" "),a("li",[t._v("Apache connections")]),t._v(" "),a("li",[t._v("Number of requests per minute")]),t._v(" "),a("li",[t._v("MySQL queries")]),t._v(" "),a("li",[t._v("Hardware Temperature ("),a("code",[t._v("chip<0>")]),t._v(")")]),t._v(" "),a("li",[t._v("Hardware Temperature ("),a("code",[t._v("sensor<0>")]),t._v(")")]),t._v(" "),a("li",[t._v("Hardware Temperature ("),a("code",[t._v("chip<N>")]),t._v(")")]),t._v(" "),a("li",[t._v("Hardware Temperature ("),a("code",[t._v("sensor<N>")]),t._v(")")]),t._v(" "),a("li",[t._v("Open File Description")])]),t._v(" "),a("p",[t._v("During creating a server alert an admin should select the type of metrics as the first step. The list of servers will be collected according to the availability of these metrics on the server.")]),t._v(" "),a("p",[t._v("For example, for now, we do not collect Apache metrics for non-cPanel servers, so you will get only cPanel servers as a list of servers for these metrics.")]),t._v(" "),a("p",[t._v("We're planning to implement support for other panels/web servers in the next releases.")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Small limitation")]),a("p",[t._v("We collect the server list according to having their statistics in our database (this behavior will be changed in the next releases).")])]),a("p",[t._v("For example, if server state is N/A or idle more than 24 hours, it will not be visible in the list for the alert.")]),t._v(" "),a("p",[t._v("The "),a("strong",[t._v("user alert")]),t._v(" tracks the next list of LVE metrics:")]),t._v(" "),a("ol",[a("li",[t._v("CPU Usage (current usage)")]),t._v(" "),a("li",[t._v("CPU Usage (faults)")]),t._v(" "),a("li",[t._v("Entry Processes (current usage)")]),t._v(" "),a("li",[t._v("Entry Processes (faults)")]),t._v(" "),a("li",[t._v("Physical Memory Usage (current usage)")]),t._v(" "),a("li",[t._v("Physical Memory Usage (faults)")]),t._v(" "),a("li",[t._v("IOPS (current usage)")]),t._v(" "),a("li",[t._v("IOPS (faults)")]),t._v(" "),a("li",[t._v("IO Usage (current usage)")]),t._v(" "),a("li",[t._v("IO Usage (faults)")]),t._v(" "),a("li",[t._v("Number of Processes (current usage)")]),t._v(" "),a("li",[t._v("Number of Processes (faults)")]),t._v(" "),a("li",[t._v("MySQL CPU (current usage)")]),t._v(" "),a("li",[t._v("MySQL CPU (faults)")]),t._v(" "),a("li",[t._v("MySQL IO (current usage)")])]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Small limitation")]),a("p",[t._v("We collect the server list according to having their statistics in our database (this behavior will be changed in the next releases).")])]),a("p",[t._v("For example, if the user state is N/A or idle more than 24 hours, it will not be visible in the list for the alert.")]),t._v(" "),a("h4",{attrs:{id:"cases-of-alert-creating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cases-of-alert-creating","aria-hidden":"true"}},[t._v("#")]),t._v(" Cases of alert creating")]),t._v(" "),a("ul",[a("li",[t._v("Creating a server alert for the selected metrics for one server")]),t._v(" "),a("li",[t._v("Creating a server alert for the selected metrics for all servers (the default value)")])]),t._v(" "),a("p",[t._v("In this two cases, you will not see the dropdown for selecting users because the metrics will track the server state.")]),t._v(" "),a("ul",[a("li",[t._v("Creating a user alert for one user, so admin can select a server and a user.")]),t._v(" "),a("li",[t._v("Creating a user alert for all users on several servers/all servers (in this case admin can't select users - all users will be selected automatically)")])]),t._v(" "),a("h4",{attrs:{id:"what-is-the-firing-state-of-the-alert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-firing-state-of-the-alert","aria-hidden":"true"}},[t._v("#")]),t._v(" What is the Firing state of the alert?")]),t._v(" "),a("p",[t._v("This is the state of an alert that has been active for longer than the configured threshold duration.")]),t._v(" "),a("h4",{attrs:{id:"alert-notifications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alert-notifications","aria-hidden":"true"}},[t._v("#")]),t._v(" Alert notifications")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/CMAlertManager8.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Alert name")]),t._v(" - the link to the alert page")]),t._v(" "),a("li",[a("strong",[t._v("Firing target")]),t._v(" - the link to the server details page")])]),t._v(" "),a("h3",{attrs:{id:"faq-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq-2","aria-hidden":"true"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),a("h4",{attrs:{id:"how-can-i-disable-collecting-and-sending-statistics-on-a-client-s-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-can-i-disable-collecting-and-sending-statistics-on-a-client-s-server","aria-hidden":"true"}},[t._v("#")]),t._v(" How can I disable collecting and sending statistics on a client’s server?")]),t._v(" "),a("p",[t._v("Run this command:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/usr/share/cloudlinux/cl_plus/manage_clplus disable\n")])])])]),t._v(" "),a("h4",{attrs:{id:"where-can-i-view-all-my-servers-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-view-all-my-servers-load","aria-hidden":"true"}},[t._v("#")]),t._v(" Where can I view all my servers load?")]),t._v(" "),a("p",[t._v("You can find all your servers load in your CM personal account here: "),a("a",{attrs:{href:"https://cm.cloudlinux.com/#/servers",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cm.cloudlinux.com/#/servers"),a("OutboundLink")],1),t._v(" or in your CLN personal account here: "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"where-can-i-view-all-my-users-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-view-all-my-users-load","aria-hidden":"true"}},[t._v("#")]),t._v(" Where can I view all my users load?")]),t._v(" "),a("p",[t._v("You can find all your users load in your CM personal account here: "),a("a",{attrs:{href:"https://cm.cloudlinux.com/#/users",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cm.cloudlinux.com/#/users"),a("OutboundLink")],1),t._v(" or in your CLN personal account here: "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"where-can-i-view-a-server-load-details-for-a-period"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-view-a-server-load-details-for-a-period","aria-hidden":"true"}},[t._v("#")]),t._v(" Where can I view a server load details for a period?")]),t._v(" "),a("p",[t._v("Click the desired server in the server list in the UI.")]),t._v(" "),a("h4",{attrs:{id:"where-can-i-view-a-user-load-details-for-the-period"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-view-a-user-load-details-for-the-period","aria-hidden":"true"}},[t._v("#")]),t._v(" Where can I view a user load details for the period?")]),t._v(" "),a("p",[t._v("Click the desired user in the user list in the UI.")]),t._v(" "),a("h4",{attrs:{id:"how-long-are-statistics-stored-in-the-central-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-long-are-statistics-stored-in-the-central-database","aria-hidden":"true"}},[t._v("#")]),t._v(" How long are statistics stored in the central database?")]),t._v(" "),a("p",[t._v("30 days.")]),t._v(" "),a("h4",{attrs:{id:"how-can-i-change-the-charts-period-on-the-details-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-can-i-change-the-charts-period-on-the-details-page","aria-hidden":"true"}},[t._v("#")]),t._v(" How can I change the charts period on the details page?")]),t._v(" "),a("p",[t._v("Choose the desired period in the upper right corner or select it directly on the chart.")]),t._v(" "),a("h4",{attrs:{id:"i-don-t-understand-how-to-read-the-user-load-chart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-don-t-understand-how-to-read-the-user-load-chart","aria-hidden":"true"}},[t._v("#")]),t._v(" I don’t understand how to read the user load chart.")]),t._v(" "),a("p",[t._v("The user load chart contains three lines:")]),t._v(" "),a("ul",[a("li",[t._v("limit")]),t._v(" "),a("li",[t._v("current load")]),t._v(" "),a("li",[t._v("count of faults")])]),t._v(" "),a("p",[t._v("Limit and current load are drawing regarding the left vertical axis, the count of faults is drawing regarding the right vertical axis. You can focus on a particular line by clicking a required legend.")]),t._v(" "),a("h3",{attrs:{id:"troubleshooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting","aria-hidden":"true"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),a("h4",{attrs:{id:"i-can-t-see-a-server-statistics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-can-t-see-a-server-statistics","aria-hidden":"true"}},[t._v("#")]),t._v(" I can't see a server statistics")]),t._v(" "),a("ol",[a("li",[t._v("Check that your server is registered by key or by IP license of the CloudLinux+ account, i.e., it should be seen in the list of servers in your CLN account here: "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/auth/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cln.cloudlinux.com/console/auth/login"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Check that the following required packages are installed on the end server:")])]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("cl-end-server-tools")])]),t._v(" >= 1.0.7-1")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("cl-node-exporter")])]),t._v(" >= 1.1.0-2")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("rhn-client-tools")])]),t._v(" "),a("ul",[a("li",[t._v("CloudLinux 6 >= 1.1.15-3.el6.cloudlinux.26")]),t._v(" "),a("li",[t._v("CloudLinux 7 >= 2.0.2-31.el7.clouldinux")]),t._v(" "),a("li",[t._v("CloudLinux 8 >= 2.8.16-14.module_el8.1.0+6074+9dc6073e.cloudlinux.2")])])]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("lve-stats")])]),t._v(" >= 3.0.7-2")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("lve-utils")])]),t._v(" >= 4.2.21-2")]),t._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[t._v("alt-python27-cllib")])]),t._v(" >= 2.1.13-1")]),t._v(" "),a("li",[a("code",[t._v("lvemanager")]),t._v(" >= 6.2.10-1")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Check that service collecting and sending statistics is running:")])]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("service cl_plus_sender status\n")])])])]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Check that log of the "),a("span",{staticClass:"notranslate"},[a("em",[t._v("cl_plus_sender")])]),t._v(" service doesn't contain errors:")])]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/var/log/clplus_sender.log\n")])])])]),t._v(" "),a("h4",{attrs:{id:"where-can-i-view-the-events-log-on-the-client-s-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-view-the-events-log-on-the-client-s-server","aria-hidden":"true"}},[t._v("#")]),t._v(" Where can I view the events log on the client's server?")]),t._v(" "),a("p",[t._v("You can view the events log on the client's server here:")]),t._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/var/log/clplus_sender.log\n")])])])]),t._v(" "),a("h4",{attrs:{id:"can-i-get-monitoring-metrics-from-litespeed-nginx-or-other-not-apache-web-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#can-i-get-monitoring-metrics-from-litespeed-nginx-or-other-not-apache-web-server","aria-hidden":"true"}},[t._v("#")]),t._v(" Can I get monitoring metrics from LiteSpeed, Nginx or other (Not Apache) web server?")]),t._v(" "),a("p",[t._v("Starting from end-server-tools-1.0.7, it supports collecting and sending statistics from the Apache and LiteSpeed web servers.")]),t._v(" "),a("p",[t._v("LiteSpeed is supported on cPanel and DirectAdmin control panels.")]),t._v(" "),a("p",[t._v("Each minute the statistics collection daemon checks which web server is started. If LiteSpeed is started, the daemon will collect data from it, otherwise, it checks if Apache is started.")]),t._v(" "),a("p",[t._v("When the daemon detects that the server is changed, it writes the following line into the statistics collection daemon log "),a("code",[t._v("/var/log/clplus_sender.log")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("2020-10-09 17:25:31,462: (CL+_sender_daemon) [INFO] Apache/Litespeed collector: Using Apache\n")])])]),a("p",[t._v("or")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("2020-10-09 18:13:03,897: (CL+_sender_daemon) [INFO] Apache/Litespeed collector: Using Litespeed\n")])])]),a("p",[t._v("If the daemon can't detect either Apache or LiteSpeed, it writes to the log the following:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("2020-10-09 17:33:38,399: (CL+_sender_daemon) [INFO] Apache/Litespeed collector: Apache or Litespeed stopped or absent, collector will not work\n")])])]),a("p",[t._v("The statistics collection daemon reacts to the server changing automatically, no need to restart it.")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning")]),a("p",[t._v("Please note that the daemon checks the server type once in a minute, so the data sent on a minute of switching can be unreliable.")])]),a("h4",{attrs:{id:"logging-data-sent-to-pushgateway-to-the-statistics-collection-daemon-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging-data-sent-to-pushgateway-to-the-statistics-collection-daemon-log","aria-hidden":"true"}},[t._v("#")]),t._v(" Logging data sent to pushgateway to the statistics collection daemon log")]),t._v(" "),a("p",[t._v("Starting from "),a("code",[t._v("cl-end-server-tools")]),t._v(" v.1.0.6-1, the statistics collection daemon allows to log data sent to pushgateway to its log "),a("code",[t._v("/var/log/clplus_sender.log")]),t._v(".")]),t._v(" "),a("p",[t._v("To start logging, run the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("touch /var/lve/cmt_debug_logging\n")])])]),a("p",[t._v("To stop logging, run the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("rm -f /var/lve/cmt_debug_logging\n")])])]),a("p",[t._v('You don\'t need to restart the daemon after starting/stopping logging. The presence of a control file is evaluated "on the fly".')]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Warning")]),a("p",[t._v("Use this logging with caution because when it is enabled, the size of the daemon log "),a("code",[t._v("/var/log/clplus_sender.log")]),t._v(" will increase each minute minimum on 3-4 KB. The actual increase size depends on the number of active users' processes on a server.")])]),a("h3",{attrs:{id:"known-issues"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#known-issues","aria-hidden":"true"}},[t._v("#")]),t._v(" Known issues")]),t._v(" "),a("ul",[a("li",[t._v("MySQL Governor statistics in some cases is collected incorrectly")]),t._v(" "),a("li",[t._v("Sorting by MySQL Governor statistics ignores idle users")]),t._v(" "),a("li",[t._v("Sorting from the search result set does not work")]),t._v(" "),a("li",[t._v("Sorting by ratio for unlimited users works incorrectly")])])])},[],!1,null,null,null);e.default=r.exports}}]);